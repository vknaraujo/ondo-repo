<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora Financeira</title>
</head>
<body>
    <h1>Calculadora Financeira Wasabi</h1>

    <h3 style="color: cyan;">Vamos Falar da Plantação?</h3>
    Qual a quantidade de mudas na sua plantação?: <input type="number" id="input_qtd"> <br> <br>
    Por quanto vôce está vendendo o kilo do wasabi? (R$) <input type="number" id="input_preço"> <br>
    <h3 style="color: cyan;">Vamos falar de Custos na Estufa de Wasabi?</h3>
    Custo de energia mensal? (R$): <input type="number" id="input_energia"> <br> <br>
    Custo de manutenção mensal? (R$): <input type="number" id="input_manutencao"> <br> <br>
    Custo de água mensal? (R$): <input type="number" id="input_agua"> <br> <br>
    Outros custos mensais? (R$): <input type="number" id="input_outros"> <br> <br>
    Você tem perdas por temperatura? Se sim quantos %? (0 a 100): <input type="number" id="input_perda"> <br> <br>

    <Button onclick="analisar()">Analisar Dados</Button> <br>

    <p id="div_mensagem"></p>

    <div style="color: darkgreen;"></div>
</body>
</html>

<script>
    function analisar() {
        var qtd = Number(input_qtd.value); //variavel de quantidade de mudas
        var preço = Number(input_preço.value); //variavel do preço do kilo
        var perda = Number(input_perda.value) / 100; //variavel da porcentagem de perda de produção
        var pesoTotal = qtd * 0.12; //variavel do peso aproximado da safra
        var retorno = pesoTotal * preço; //variavel do ganho da safra (peso total * preço)
        var preçoMuda = (pesoTotal / qtd) * preço; //variavel do preço aproximado de cada muda
        var retornoReal = retorno * (1 - perda); //variavel do ganho real (descontando as perdas)

        if (retornoReal > 0) {
            var mensagem = `
            Com o peso aproximado de 120 gramas por muda. <br>
            Preço aproximado de cada muda: R$${preçoMuda} <br>
            O retorno aproximado dessa safra será: <b style="color: greenyellow;">R$${retornoReal}</b> <br>
            `
        }

        var energia = Number(input_energia.value) * 24; //variavel do custo de energia em 2 anos
        var manutencao = Number(input_manutencao.value) * 24; //variavel do custo de manutenção em 2 anos
        var agua = Number(input_agua.value) * 24; //variavel do custo de água em 2 anos
        var outros = Number(input_outros.value) * 24; //variavel dos outros custos em 2 anos
        var custoTotal = energia + manutencao + outros + agua; //variavel do custo total em 2 anos
        var lucroLiquido = retornoReal - custoTotal; //variavel do lucro liquido
        var solução = retorno - custoTotal; //variavel do lucro liquido sem as perdas por temperatura
        var aumento = ([solução - lucroLiquido] / solução) * 100; //porcentagem de aumento de lucro

        mensagem += `Custo Total: <b style="color: red;">R$${custoTotal}</b> <br>`

        if (lucroLiquido == 0) {
            mensagem += `
            Lucro liquido para essa safra (2 anos): <b style="color: gray;">R$${lucroLiquido}</b> <br>
            Aumento: ${aumento}% <br>
            <b style="color: green;">Lucro liquido com a solução ONDO: R$${solução}</b>
            `
        }
        if (lucroLiquido > 0) {
            mensagem += `
            Lucro liquido para essa safra (2 anos): <b style="color: greenyellow;">R$${lucroLiquido}</b> <br>
            Aumento: ${aumento}% <br>
            <b style="color: green;">Lucro liquido com a solução ONDO: R$${solução}</b>
            `
        }
        if (lucroLiquido < 0) {
            mensagem += `
            Lucro liquido para essa safra (2 anos): <b style="color: red;">R$${lucroLiquido}</b> <br>
            <b style="color: red;">Lucro liquido com a solução ONDO: R$${solução}</b>
            `
        }

        div_mensagem.innerHTML = mensagem
    }
</script>
